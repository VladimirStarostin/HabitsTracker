syntax = "proto3";

package tracking_service.v1;

service TrackingService {
  rpc GetAllEvents (GetAllEventsRequest) returns (GetAllEventsResponse);
  rpc TrackHabit (TrackHabitRequest) returns (TrackHabitResponse);
  rpc DeleteEvent (DeleteEventRequest) returns (DeleteEventResponse);
  rpc GetByIds (GetByIdsRequest) returns (GetByIdsResponse);
}

message GetAllEventsRequest {}

message GetAllEventsResponse {
  repeated HabitEvent events = 1;
}

message TrackHabitRequest {
  int64 habit_id = 1;
  string date = 2; //ISO-8601
}

message TrackHabitResponse {
  HabitEvent event = 1;
}

message DeleteEventRequest {
  int32 event_id = 1;
}

message DeleteEventResponse {}

message HabitEvent {
  int64 id = 1;
  int64 habit_id = 2;
  int64 user_id = 3;
  string date = 4; //ISO-8601
}

message GetByIdsRequest {
  repeated int64 event_ids = 1;
}

message GetByIdsResponse {
   repeated HabitEvent events = 1;
}